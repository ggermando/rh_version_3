{% load static %}

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        

    <link rel="stylesheet" type="text/css"  href="{% static 'css/bootstrap.css' %}" > 
    <link rel="stylesheet" type="text/css"  href="{% static 'css/bootstrap.css.map' %}" >
    <link rel="stylesheet" type="text/css"  href="{% static 'css/bootstrap.min.css' %}" >
    <link rel="stylesheet" type="text/css"  href="{% static 'css/bootstrap.min.css.map' %}" >
    <link rel="stylesheet" type="text/css"  href="{% static 'css/bootstrap-grid.css' %}" >
    <link rel="stylesheet" type="text/css"  href="{% static 'css/bootstrap-grid.css.map' %}" >
    <link rel="stylesheet" type="text/css"  href="{% static 'css/bootstrap-grid.min.css' %}" >
    <link rel="stylesheet" type="text/css"  href="{% static 'css/bootstrap-grid.min.css.map' %}" >
    <link rel="stylesheet" type="text/css"  href="{% static 'css/bootstrap-reboot.css' %}" >
    <link rel="stylesheet" type="text/css"  href="{% static 'css/bootstrap-reboot.css.map' %}" >
    <link rel="stylesheet" type="text/css"  href="{% static 'css/bootstrap-reboot.min.css' %}" >
    <link rel="stylesheet" type="text/css"  href="{% static 'css/bootstrap-reboot.min.css.map' %}" >

    
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

    <!-- custumize css -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}" >

  
    <script type="text/javascript">
    $(function(){

        $('#search').keyup(function(){
            console.log("dziala");
            $.ajax({
                type: "POST",
                url: "/tags/search/",
                data: {
                    'search_text': $('#search').val(),
                    'csrfmiddlewaretoken' : $("input[name=csrfmiddlewaretoken]").val()
                },
                success: searchSuccess,
                dataType: 'html'

            });

        });
    });
    function searchSuccess(data, textStatus, jqXHR)
    {
        $('#search-results').html(data);
    }
    function slugify(text)
      {
        return text.toString().toLowerCase()
          .replace(/\s+/g, '-')           // Replace spaces with -
          .replace(/[^\w\-]+/g, '')       // Remove all non-word chars
          .replace(/\-\-+/g, '-')         // Replace multiple - with single -
          .replace(/^-+/, '')             // Trim - from start of text
          .replace(/-+$/, '');            // Trim - from end of text
      }
      $(document).ready(function() {
        $("#search").keydown(function(event){
          if(event.keyCode == 13) {
            event.preventDefault();
            generateUrl()
          return false;
      }
      });
    });
    function generateUrl(){
      console.log("cos")
	     var x = document.querySelector("[list='search-results']").value.toString().toLowerCase()
         .replace(/\s+/g, '-')           // Replace spaces with -
         .replace(/[^\w\-]+/g, '')       // Remove all non-word chars
         .replace(/\-\-+/g, '-')         // Replace multiple - with single -
         .replace(/^-+/, '')             // Trim - from start of text
         .replace(/-+$/, '');

      

       document.querySelector("[list='search-results']").value="";
      //  window.location.href = "/tags/"+x;


       }

    </script>
    <style>
    input::-webkit-calendar-picker-indicator {
      display: none;
    }
    </style>
